<!doctype html>













































<html
  class="not-ready lg:text-base"
  style="--bg: #faf8f1"
  lang="en-us"
  dir="ltr"
>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Offloading processes to NVidia GPU on Fedora - smoliicek - blog</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="NVidia on Linux, it always was, and still is a pain sometimes, especially on laptops with a dual-GPU setup. Although the situation is getting better, it still isn&rsquo;t perfect.
Motivation
For a long time, I was switching between the integrated Intel GPU and dedicated NVidia GPU manually, which wasn&rsquo;t ideal, but also required a re-login every time. But, the solution was right there!
Setup
The official drivers for NVidia GPUs allow offloading, that means that your DE and every app you launch gets run on the integrated GPU by default, however, you can export some enviroment variables to run the process on the dedicated GPU. This means that you need to have the official drivers installed on your system, please follow this guide for installation instructions." />
  <meta name="author" content="Vít Smolík" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="http://localhost:1313/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="http://localhost:1313/theme.svg" />

  
  
  
  
  <link rel="preload" as="image" href="https://libravatar.org/avatar/4715037e8e298e1cc71d099c5a2c3557?s=80" />
  
  

  
  
  <link rel="preload" as="image" href="http://localhost:1313/twitter.svg" />
  
  <link rel="preload" as="image" href="http://localhost:1313/github.svg" />
  
  <link rel="preload" as="image" href="http://localhost:1313/instagram.svg" />
  
  <link rel="preload" as="image" href="http://localhost:1313/rss.svg" />
  
  

  
  

  
  
  
  
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css"
  integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI"
  crossorigin="anonymous"
/>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js"
  integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
></script>


<script>
  document.addEventListener('DOMContentLoaded', () =>
    renderMathInElement(document.body, {
      
      
      delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '$', right: '$', display: false },
      ],
      
      throwOnError: false,
    }),
  );
</script>

  
  
  

  
  <link
    rel="icon"
    href="http://localhost:1313/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="http://localhost:1313/apple-touch-icon.png"
  />

  
  <meta name="generator" content="Hugo 0.152.2">

  
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-[--w] px-8 lg:justify-center">
  <div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center">
    <a class="-translate-y-[1px] text-2xl font-medium" href="http://localhost:1313/"
      >smoliicek - blog</a
    >
    <div
      class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#faf8f1'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 rtl:space-x-reverse dark:invert ltr:lg:ml-14 rtl:lg:mr-14 lg:mt-0 lg:items-center"
    >
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./twitter.svg)"
        href="https://twitter.com/smoliiczech"
        target="_blank"
        rel="me"
      >
        twitter
      </a>
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/smoliicek"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./instagram.svg)"
        href="https://instagram.com/smoliik.v"
        target="_blank"
        rel="me"
      >
        instagram
      </a>
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./rss.svg)"
        href="http://localhost:1313/index.xml"
        target="_blank"
        rel="alternate"
      >
        rss
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100vh-9rem)] max-w-[--w] px-8 pb-16 pt-14 dark:prose-invert"
    >
      

<article>
  <header class="mb-14">
    <h1 class="!my-0 pb-2.5">Offloading processes to NVidia GPU on Fedora</h1>

    
    <div class="text-xs antialiased opacity-60">
      
      <time>Feb 20, 2026</time>
      
      
      
      
    </div>
    
  </header>

  <section><p>NVidia on Linux, it always was, and still is a pain sometimes, especially on laptops with a dual-GPU setup. Although the situation is getting better, it still isn&rsquo;t perfect.</p>
<h2 id="motivation">Motivation</h2>
<p>For a long time, I was switching between the integrated Intel GPU and dedicated NVidia GPU manually, which wasn&rsquo;t ideal, but also required a re-login every time. But, the solution was right there!</p>
<h2 id="setup">Setup</h2>
<p>The official drivers for NVidia GPUs allow offloading, that means that your DE and every app you launch gets run on the integrated GPU by default, however, you can export some enviroment variables to run the process on the dedicated GPU. This means that you need to have the official drivers installed on your system, please follow this <a href="https://rpmfusion.org/Howto/NVIDIA">guide</a> for installation instructions.</p>
<h3 id="downloading-the-script">Downloading the script</h3>
<p>I wrote a quick script for this, you can download it <a href="https://smoliicek.fedorapeople.org">from my Fedora People repository</a>. The script also needs to be somewhere in your $PATH.</p>
<p>You can use something like this for the installation:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -s https://smoliicek.fedorapeople.org/prime-run | sudo tee /usr/local/bin/prime-run &gt;/dev/null 2&gt;&amp;<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>sudo chmod +x /usr/local/bin/prime-run
</span></span><span style="display:flex;"><span>exec bash
</span></span></code></pre></div>
          <link rel="stylesheet" href="/css/vendors/admonitions.css">
    <div class="admonition tip admonition--headless">
      <div class="admonition-content">
        <p>It&rsquo;s generally a good idea to check scripts before running and downloading them.</p>
<p>This script is safe, and cannot do any harm, since it only sets some enviroment variables, the variables are only applied for the duration of the command runtime.</p>
      </div>
    </div><h2 id="offloading-processes">Offloading processes</h2>
<p>Now comes the fun part! Finally offloading the processes. The process takes one argument, and that is the program you want to run (and the programs arguments)
We can test if the script works very easily, download glx-utils using DNF <code>sudo dnf install glx-utils</code>. Then run it, and grep out OpenGL, the output will look something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~ » glxinfo | grep OpenGL
</span></span><span style="display:flex;"><span>OpenGL vendor string: Intel
</span></span><span style="display:flex;"><span>OpenGL renderer string: Mesa Intel<span style="color:#f92672">(</span>R<span style="color:#f92672">)</span> UHD Graphics <span style="color:#f92672">(</span>CML GT2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>OpenGL core profile version string: 4.6 <span style="color:#f92672">(</span>Core Profile<span style="color:#f92672">)</span> Mesa 25.3.4
</span></span><span style="display:flex;"><span>OpenGL core profile shading language version string: 4.60
</span></span><span style="display:flex;"><span>OpenGL core profile context flags: <span style="color:#f92672">(</span>none<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>OpenGL core profile profile mask: core profile
</span></span><span style="display:flex;"><span>OpenGL core profile extensions:
</span></span><span style="display:flex;"><span>OpenGL version string: 4.6 <span style="color:#f92672">(</span>Compatibility Profile<span style="color:#f92672">)</span> Mesa 25.3.4
</span></span><span style="display:flex;"><span>OpenGL shading language version string: 4.60
</span></span><span style="display:flex;"><span>OpenGL context flags: <span style="color:#f92672">(</span>none<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>OpenGL profile mask: compatibility profile
</span></span><span style="display:flex;"><span>OpenGL extensions:
</span></span><span style="display:flex;"><span>OpenGL ES profile version string: OpenGL ES 3.2 Mesa 25.3.4
</span></span><span style="display:flex;"><span>OpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.20
</span></span><span style="display:flex;"><span>OpenGL ES profile extensions:
</span></span></code></pre></div><p>Now, run it with prime-run, you will see the difference immediately:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~ » prime-run glxinfo | grep OpenGL
</span></span><span style="display:flex;"><span>OpenGL vendor string: NVIDIA Corporation
</span></span><span style="display:flex;"><span>OpenGL renderer string: NVIDIA GeForce GTX 1650/PCIe/SSE2
</span></span><span style="display:flex;"><span>OpenGL core profile version string: 4.6.0 NVIDIA 580.119.02
</span></span><span style="display:flex;"><span>OpenGL core profile shading language version string: 4.60 NVIDIA
</span></span><span style="display:flex;"><span>OpenGL core profile context flags: <span style="color:#f92672">(</span>none<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>OpenGL core profile profile mask: core profile
</span></span><span style="display:flex;"><span>OpenGL core profile extensions:
</span></span><span style="display:flex;"><span>OpenGL version string: 4.6.0 NVIDIA 580.119.02
</span></span><span style="display:flex;"><span>OpenGL shading language version string: 4.60 NVIDIA
</span></span><span style="display:flex;"><span>OpenGL context flags: <span style="color:#f92672">(</span>none<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>OpenGL profile mask: <span style="color:#f92672">(</span>none<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>OpenGL extensions:
</span></span><span style="display:flex;"><span>OpenGL ES profile version string: OpenGL ES 3.2 NVIDIA 580.119.02
</span></span><span style="display:flex;"><span>OpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.20
</span></span><span style="display:flex;"><span>OpenGL ES profile extensions:
</span></span></code></pre></div><h2 id="closing-thoughts">Closing thoughts</h2>
<p>I hope this blog post helped at least somebody. If you need any help, you can reach out to me using my <a href="mailto:me@smoliicek.cz">personal</a> or my <a href="mailto:smoliicek@fedoraproject.org">fedoraproject</a> email adress. Happy offloading!</p>
<p>&ndash; Signed-off-by: smoliicek &lt;me@smoliicek.cz&gt;</p>
</section>

  
  

  
  

  
  

  
  

  


  
</article>


    </main>

    <footer
  class="mx-auto flex h-[4.5rem] max-w-[--w] items-center px-8 text-xs uppercase tracking-wider opacity-60"
>
  <div class="mr-auto">
  
    © 2026, smoliicek.cz
  
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >powered by hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >hugo-paper</a
  >
</footer>

  </body>
</html>
